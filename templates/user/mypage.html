<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>너의 이름은 | 마이 페이지</title>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


        <!-- 스타일(나중에..) -->

        <!-- 자바스크립트 -->
        <script>
            $(document).ready(function() {
                // 이 html이 로드되면 뭘 할지 
                make_profile_page()
            });

            // 정보 요청 다 하는 큰 틀에서의 함수
            function    make_profile_page() {
                get_myinfo()
            }

            // 나의 정보 요청하는 함수 
            function    get_myinfo()
            {
                const db_id = "68b6e0b1f6bd69c32e38be1b";

                $.ajax({
                    type: "GET",
                    url: `/api/users/${db_id}`,
                    success: function (response) {
                        if (response['result'] == 'success') {
                            // 정보 받은거 html 요소로 넣어서 append
                            const my_info = `
                                <li>닉네임: ${response.nickname}</li>
                                <li>자기소개: ${response.self_intro}</li>
                                <li>동기: ${response.self_motive}</li>
                                <li>좋아하는 음식: ${response.favorite_food}</li>
                                <li>취미: ${response.hobby}</li>
                                <li>MBTI: ${response.mbti}</li>
                            `
                            $('#my-profile').html(my_info)
                        }
                        else
                            alert ('사용자 정보 받아오기 실패')
                    }
                });
            }

            // 정보 수정 버튼 클릭하면 동작될 함수 
            function    edit_myinfo() {

            }

            // 나를 맞춘 사람 정보 요청하는 함수
            function    get_solver_info() {

            }

            // 내가 맞춘 사람 정보 요청하는 함수 
            function    get_my_solved_targets_info() {

            }

            
        </script>

    </head>
    <body>
        
        <div id="top-section">
            <h2>프로필 사진이랑 목록 아이콘 들어가야함</h3> 
        </div>

        <div id="my-info-section">
            <h2>내 정보</h2>
            <ul id="my-profile"></ul>
             
        </div>

        <div id="quiz-correct-by-others-section">
            <h2>나를 맞춘 사람</h2>
            <ul id="my-solver"></ul>
        </div>

        <div id="quiz-correct-by-me-section">
            <h2>내가 맞춘 사람들</h2>
            <ul id="my-solved-list"></ul>
        </div>

    </body>
</html>